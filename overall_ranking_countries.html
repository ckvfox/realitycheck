<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Overall Country Ranking</title>
  <link rel="stylesheet" href="style.css">
</head>

<body class="overall-ranking">
  <!-- === Spinner === -->
  <div id="overlay-spinner" class="hidden">
    <div class="spinner"></div>
    <p>Loading data...</p>
  </div>

  <!-- ðŸ§­ Intro-Bereich -->
  <section id="overall-intro" class="content-section intro-text">
    <p>
      The <strong>Overall Country Ranking</strong> combines dozens of key performance indicators (KPIs)
      into a single, data-driven comparison. It reflects how countries perform across
      <em>economy, society, sustainability, governance</em> and more -- helping to reveal the bigger picture
      beyond individual statistics.
    </p>
    <p>
      Each cluster below groups related indicators. You can adjust the importance of every KPI
      by choosing whether it should weigh <b>high</b>, <b>very high</b> or <b>not interested</b>.
      The ranking recalculates instantly to show how your priorities change the outcome.
    </p>
    <p class="intro-note">
      Use this page to explore patterns in prosperity, equity, and resilience -- or to build your own
      interpretation of what "progress" means across nations.
    </p>
  </section>

  <!-- === KPI relevance selectors (clustered) === -->
  <section id="relevance-section" class="content-section">
    <div id="relevance-controls"></div>
    <div class="button-bar">
      <button id="recalc-btn">Recalculate Ranking</button>
    </div>
  </section>

  <!-- === Results Table === -->
  <section id="results-section" class="content-section">
    <table id="overall-table">
      <thead>
        <tr>
          <th>Rank</th>
          <th>Country</th>
          <th>Score</th>
          <th>KPIs used</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>
    <p id="last-updated" class="timestamp"></p>
  </section>

  <!-- === Legend Section === -->
  <section id="legend-section" class="content-section legend">
    <h3>Legend & Calculation Notes</h3>
    <ul>
      <li><b>Score:</b> Average of all weighted, normalized KPI values per country (0â€“100 scale).</li>
      <li><b>Normalization:</b> Each KPI is scaled between 0 and 1 based on its observed minimum and maximum values.</li>
      <li><b>Direction:</b> If a KPIâ€™s relation is <code>lower</code>, its values are inverted so that smaller = better.</li>
      <li><b>Relevance:</b> Defines how strongly each KPI contributes to the overall score.<br>
        <code>very high</code> = Ã—1.5, <code>high</code> = Ã—1.2, <code>normal</code> = Ã—1.0,
        <code>low</code> = Ã—0.6, <code>irrelevant</code> = Ã—0.0.
      </li>
      <li><b>World KPIs:</b> Indicators marked as global-only (<code>world_kpi = "e"</code>) are excluded from the ranking.</li>
      <li><b>Update:</b> The ranking reflects the most recent available data from all included sources.</li>
    </ul>
  </section>

  <!-- âœ… Script jetzt im Unterordner /scripts -->
  <script src="scripts/overall_ranking.js"></script>
</body>
</html>