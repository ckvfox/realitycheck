<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>RealityCheck ‚Äì Global Analysis</title>
  <link rel="stylesheet" href="style.css" />
  <style>
    /* === Page-specific refinement === */
    #analysis-section {
      max-width: 900px;
      margin: 2rem auto 4rem; /* bottom spacing */
      padding: 0 1.5rem;
      line-height: 1.6;
      opacity: 0;
      transition: opacity 1.2s ease;
    }

    #analysis-section.loaded {
      opacity: 1;
    }

    #analysis-section h2 {
      text-align: center;
      font-size: 1.8rem;
      margin-bottom: 1rem;
      color: var(--steel-blue);
    }

    #analysis-section p.intro {
      text-align: center;
      color: #333;
      font-size: 1rem;
      margin-bottom: 2rem;
    }

    #analysis-content {
      background: #fff;
      color: #222;
      border: 1px solid #ddd;
      border-radius: 10px;
      padding: 2rem;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
      font-size: 1rem;
      line-height: 1.65;
    }

	/* === Headings inside analysis content === */
	#analysis-content h1,
	#analysis-content h2,
	#analysis-content h3 {
	  color: var(--steel-blue);
	  font-weight: 700;
	  margin-top: 1.8rem;
	  margin-bottom: 0.6rem;
	  line-height: 1.3;
	}

	/* Visual hierarchy: slightly different sizes */
	#analysis-content h1 { font-size: 1.5rem; border-bottom: 2px solid var(--steel-blue); padding-bottom: .3rem; }
	#analysis-content h2 { font-size: 1.25rem; }
	#analysis-content h3 { font-size: 1.1rem; color: #0b2144; font-style: italic; }


    #analysis-content ul {
      margin: 0.5rem 0 1rem 1.4rem;
    }

    #analysis-content li {
      margin-bottom: 0.4rem;
    }

    #analysis-content strong {
      color: #000;
    }

    #analysis-content em {
      color: #444;
    }

    #analysis-content pre {
      white-space: pre-wrap;
    }
  </style>
</head>

<body>
  <section id="analysis-section">
    <h2>üß† Global KPI Analysis</h2>
    <p class="intro">
      This AI-generated report interprets the global dataset across all KPIs, revealing trends,
      progress, risks, and interdependencies shaping humanity‚Äôs trajectory.
    </p>
    <div id="analysis-content">‚è≥ Loading analysis...</div>
  </section>

  <!-- === Markdown parser === -->
  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

  <script>
    const section = document.getElementById("analysis-section");
    const container = document.getElementById("analysis-content");

    fetch("data/analysis.md")
      .then(r => {
        if (!r.ok) throw new Error("File not found");
        return r.text();
      })
      .then(md => {
        const html = marked.parse(md.trim());
        container.innerHTML = html;
        section.classList.add("loaded");
      })
      .catch(() => {
        container.innerText =
          "‚ö†Ô∏è No analysis found. Please run fetch_data.py to generate a new report.";
        section.classList.add("loaded");
      });
  </script>
</body>
</html>
